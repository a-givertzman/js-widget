class t{#t=!1;#e;#i;#n;#s;constructor({child:t=null,tagName:e="div",cssClass:i=[]}={}){this.#e=t,this.#i=e,this.#n=i}build(){if(this.#s=document.createElement(this.#i),!this.#s)throw new Error(`[Widget.build] error creating document element "${this.#i}"`);if(this.#n.length>0&&this.#s.classList.add(...this.#n),this.#e){const t=this.#e.build();this.#s.appendChild(t.htmlElement)}return log(this.#t,"[Widget.build] child: ",this.htmlElement),this}get htmlElement(){if(!this.#s)throw new Error("[Widget] error access htmlElement befor it was created");return this.#s}}class e{#t=!0;#l;#o;#h;#r;#d;#a;#c;#g;constructor({title:e,home:i,routes:n,initialRoute:s,theme:l,darkTheme:o,builder:h}={}){this.#l=e,this.#o=i,this.#h=n,this.#r=s,this.#d=l,this.#a=o,this.#c=h,this.#g=new t({child:this.#o,tagName:"div",cssClass:["material-app-widget"]}),document.title=this.#l}run(){log(this.#t,"[MaterialApp.run]"),document.addEventListener("load",(t=>{log(this.#t,"[MaterialApp.run] document on load event")})),window.addEventListener("load",(t=>{log(this.#t,"[MaterialApp.run] window on load event"),this.build()}))}build(){return log(this.#t,"[MaterialApp.build] home: ",this.#o),this.#o.build(),log(this.#t,"[MaterialApp.build] this: ",this),log(this.#t,"[MaterialApp.build] this.widget: ",this.#g),this}get htmlElement(){return this.#g.htmlElement}}const i="normal";const n=new class{constructor({inherit:t=!0,color:e,backgroundColor:n,fontSize:s,fontWeight:l,fontStyle:o,letterSpacing:h,wordSpacing:r,textBaseline:d,height:a,leadingDistribution:c,locale:g,foreground:m,background:u,shadows:w,fontFeatures:b,decoration:f,decorationColor:p,decorationStyle:y,decorationThickness:x,debugLabel:S,fontFamily:E,fontFamilyFallback:A,overflow:C}={}){this.inherit=t,this.color=e,this.backgroundColor=n,this.fontSize=s,this.fontWeight=l||i,this.fontStyle=o,this.letterSpacing=h,this.wordSpacing=r,this.textBaseline=d,this.height=a,this.leadingDistribution=c,this.locale=g,this.foreground=m,this.background=u,this.shadows=w,this.fontFeatures=b,this.decoration=f,this.decorationColor=p,this.decorationStyle=y,this.decorationThickness=x,this.debugLabel=S,this.fontFamily=E,this.fontFamilyFallback=A,this.overflow=C}build(){return this}}({fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"',fontSize:12,color:"#ffffff"});class s{#e;#m;#u;#g;constructor({child:e,width:i,height:n}={}){this.#e=e,this.#m=i,this.#u=n,this.#g=new t({child:this.#e,cssClass:["sized-box-widget"]})}build(){const t=this.#g.build().htmlElement;return t.style.width=this.#m?`${this.#m}px`:"",t.style.height=this.#u?`${this.#u}px`:"",t.style.maxWidth=this.#m?`${this.#m}px`:"",t.style.maxHeight=this.#u?`${this.#u}px`:"",this}get htmlElement(){return this.#g.htmlElement}}class l{#e;#g;constructor({child:e}={}){this.#e=e,this.#g=new t({child:this.#e,cssClass:["center-widget"]})}build(){return this.#g.build(),this}get htmlElement(){return this.#g.htmlElement}}class o{#w;#m;#b;constructor({color:t,width:e,radius:i}={}){this.#w=t,this.#m=e,this.#b=i}static all({color:t="transparent",width:e=0}={}){return new o({color:t,width:e,radius:0})}build(){return{top:`${this.#m}px solid ${this.#w}`,right:`${this.#m}px solid ${this.#w}`,bottom:`${this.#m}px solid ${this.#w}`,left:`${this.#m}px solid ${this.#w}`,radius:`${this.#b}px`}}}class h{#f;#p;#y;#x;constructor({top:t=0,right:e=0,bottom:i=0,left:n=0}={}){this.#f=t,this.#p=e,this.#y=i,this.#x=n}static all(t){return new h({top:t,right:t,bottom:t,left:t})}build(){return{top:`${this.#f}px`,right:`${this.#p}px`,bottom:`${this.#y}px`,left:`${this.#x}px`}}}class r{#t=!0;#e;#g;#m;#u;#w;#S;#E;constructor({child:e,width:i,height:n,color:s,padding:l=h.all(0),border:r=new o({width:0,color:"transparent",radius:0})}={}){this.#e=e,this.#m=i,this.#u=n,this.#w=s,this.#S=l,this.#E=r,this.#g=new t({child:this.#e,cssClass:["container-widget"]})}build(){const t=this.#g.build().htmlElement;if(!t)throw new Error(`[Container] error building child "${this.#g.constructor.name}"`);t.style.width=this.#m?`${this.#m}px`:"",t.style.height=this.#u?`${this.#u}px`:"",t.style.maxWidth=this.#m?`${this.#m}px`:"",t.style.maxHeight=this.#u?`${this.#u}px`:"",t.style.backgroundColor=this.#w?this.#w:"transparent";const e=this.#S.build();t.style.padding=e?`${e.top} ${e.right} ${e.bottom} ${e.left}`:"";const i=this.#E.build();return t.style.borderTop=i?`${i.top}`:"",t.style.borderRight=i?`${i.right}`:"",t.style.borderBottom=i?`${i.bottom}`:"",t.style.borderLeft=i?`${i.left}`:"",log(this.#t,"[Container.build] child: ",this.htmlElement),this}get htmlElement(){return this.#g.htmlElement}}const d="flex-start",a="center",c="space-between",g="center",m="stretch",u="start",w="center",b="center",f="row",p="column";class y{#t=!1;#A;#C;#i;#n;#s;#v;#P;#T;constructor({itemCount:t,itemBuilder:e,tagName:i="div",cssClass:n=[],mainAxisAlignment:s=d,crossAxisAlignment:l=g,direction:o=p}={}){this.#A=t,this.#C=e,this.#i=i,this.#n=n,this.#v=s,this.#P=l,this.#T=o}build(){if(this.#s=document.createElement(this.#i),!this.#s)throw new Error(`[Widget] error creating document element "${this.#i}"`);if(this.#s.style.flexDirection=this.#T,this.#s.style.justifyContent=this.#v,this.#s.style.alignItems=this.#P,this.#n.length>0&&this.#s.classList.add([...this.#n]),this.#C)for(var t=0;t<this.#A;t++){const e=this.#C(t);log(this.#t,"[MultyWidget] index: ",t," item: ",e);const i=e.build();i.htmlElement.flex="0 1 auto",this.#s.appendChild(i.htmlElement)}return this}get htmlElement(){if(!this.#s)throw new Error("[MultyWidget] error access htmlElement befor it was created");return this.#s}}class x{#t=!1;#g;#F;#v;#P;constructor({children:t=[],mainAxisAlignment:e=d,crossAxisAlignment:i=g}={}){this.#F=t,this.#v=e,this.#P=i,this.#g=new y({itemCount:this.#F.length,itemBuilder:t=>this.#F[t],cssClass:["row-widget"],mainAxisAlignment:this.#v,crossAxisAlignment:this.#P,direction:f})}build(){return log(this.#t,"[Row.build] children: ",this.#F),this.#g.build(),this}get htmlElement(){return this.#g.htmlElement}}class S{#t=!1;#F;#v;#P;#g;constructor({children:t=[],mainAxisAlignment:e=d,crossAxisAlignment:i=g}={}){this.#F=t,this.#v=e,this.#P=i,this.#g=new y({itemCount:this.#F.length,itemBuilder:t=>this.#F[t],cssClass:["column-widget"],mainAxisAlignment:this.#v,crossAxisAlignment:this.#P,direction:p})}build(){return log(this.#t,"[Column.build] children: ",this.#F),this.#g.build(),this}get htmlElement(){return this.#g.htmlElement}}class E{#t=!0;#l;#e;#g;#z;onComplete(t){this.#z=t}close(t){log(this.#t,"[Scaffold.close] result: ",t),this.#z(t)}constructor({title:e,child:i}={}){if(!i)throw SyntaxError('[Scaffold] parameter "child" is required');this.#e=i,this.#l=e,this.#g=new t({child:this.#e,cssClass:["scaffold-widget","scaffold-widget-slide-in"]})}build(){const t=this.#g.build().htmlElement;if(!t)throw new Error(`[Scaffold] error building child "${this.#g.constructor.name}"`);document.title=this.#l;const e=document.body.lastChild;return setTimeout((()=>{e?.style&&(e.style.display="none")}),200),document.body.appendChild(t),log(this.#t,"[Scaffold.build] this: ",this),log(this.#t,"[Scaffold.build] element: ",t),this}get htmlElement(){return this.#g.htmlElement}}class A{#$;#k;#B;#g;constructor(e,{style:i}={}){this.#$=e,this.#k=i,this.#B=v.ellipsis,this.#g=new t({cssClass:["text-widget"]})}build(){const t=this.#g.build().htmlElement;return t.innerHTML=this.#$,t.style.color=this.#k?.color,t.style.backgroundColor=this.#k?.backgroundColor,t.style.fontSize=this.#k?.fontSize?`${this.#k.fontSize}px`:"inherit",t.style.fontFamily=this.#k?.fontFamily??"inherit",t.style.fontWeight=this.#k?.fontWeight??"inherit",t.style.height=this.#k?.height,t.style.overflow=this.#B?"hidden":"",t.style.textOverflow=this.#B,t.style.textAlign=this.#k?.textAlign,this}get htmlElement(){return this.#g.htmlElement}#D(){const t=this.#g.htmlElement;this.#L(t,this.#$)}#L(t,e){t.innerHTML="";const i=e.split(" ");t.clientHeight;for(var n=0;n<i.length;n++)if(t.innerHTML=t.innerHTML+" "+i[n],C(t))return 0}#W(t){const e=t.innerHTML.split(" ");for(;t.scrollHeight>t.clientHeight;)e.pop(),t.innerHTML=e.join(" ")+"..."}}function C(t){const e=t.style.overflow;e&&"visible"!==e||(t.style.overflow="hidden");const i=t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight;return t.style.overflow=e,i}const v={clip:"clip",fade:"fade",ellipsis:"ellipsis"};class P{#t=!1;#e;#N;#k;#g;constructor({child:e,onPressed:i,onLongPress:n,onHover:s,onFocusChange:l,style:o,focusNode:h,autofocus:r=!1}={}){this.#e=e,this.#N=i,this.onLongPress=n,this.onHover=s,this.onFocusChange=l,this.focusNode=h,this.autofocus=r,this.#k=o,this.#g=new t({child:this.#e,cssClass:["text-button-widget"]})}build(){const t=this.#g.build().htmlElement;return t.addEventListener("click",(t=>{this.#N&&"function"==typeof this.#N&&this.#N(t)})),t.addEventListener("mouseover",(t=>{this.onHover&&"function"==typeof this.onHover&&this.onHover(t)})),this}get htmlElement(){return this.#g.htmlElement}}class T{#t=!0;#H;#g;#s;#M;constructor({path:t,widget:e}={}){if(!t)throw SyntaxError('[MaterialRoute] parameter "path" is required');if(this.#H=t,!e)throw SyntaxError('[MaterialRoute] parameter "widget" is required');this.#g=e}get path(){return this.#H}build(){this.#M=document.title;const t=this.#g.build();return this.#s=t.htmlElement,new Promise(((e,i)=>{t.onComplete((i=>{log(this.#t,"[MaterialRoute.build] child result: ",i),document.title=this.#M,t.htmlElement.previousSibling.style.display="flex",t.htmlElement.classList.remove("scaffold-widget-slide-in"),t.htmlElement.classList.add("scaffold-widget-slide-out"),setTimeout((()=>{t.htmlElement.remove()}),200),e(i)}))}))}get htmlElement(){return this.#s}}class F{#e;flex;constructor({child:t,flex:e=1}={}){if(!t)throw SyntaxError('[Expanded] parameter "child" is required');this.#e=t,this.flex=e}build(){const t=this.#e.build().htmlElement;if(!t)throw new Error(`[Expanded] error building child "${this.#e.constructor.name}"`);return t.style.flexGrow=this.flex,t.style.width="100%",t.style.height="100%",this}get htmlElement(){if(!this.#e)throw new Error("[Expanded] error access child");return this.#e.htmlElement}}class z{#g;constructor({}={}){this.#g=new E({title:"First Page",child:new S({children:[new F({child:new r({color:"#5050ff",height:60,child:new x({mainAxisAlignment:c,children:[new P({onPressed:t=>{this.#g.close({result:"FirstPageResult"})},child:new A("←",{style:{...n,fontSize:16}})}),new A("First Page",{style:{...n,fontSize:16}}),new A("icon",{style:{...n,fontSize:16}})]})})}),new F({child:new r({color:"#aa5050",child:new l({child:new r({child:new A("First Page Content",{overflow:v.clip}),color:"#f2f2f2",width:200,height:200})})})})]})})}build(){return this.#g.build()}get htmlElement(){return this.#g.htmlElement}}class ${#g;constructor({}={}){this.#g=new E({title:"Second Page",child:new S({children:[new F({child:new r({color:"#5050ff",height:60,child:new x({mainAxisAlignment:c,children:[new P({onPressed:t=>{this.#g.close({result:"SecondPageResult"})},child:new A("←",{style:{...n,fontSize:16}})}),new A("Second Page",{style:{...n,fontSize:16}}),new A("icon",{style:{...n,fontSize:16}})]})})}),new F({child:new r({color:"#50aa50",child:new l({child:new r({child:new A("Second Page Content",{overflow:v.clip}),color:"#f2f2f2",width:200,height:200})})})})]})})}build(){return this.#g.build()}get htmlElement(){return this.#g.htmlElement}}class k{#t=!0;#g;constructor({}={}){this.#g=new E({title:"Third Page",child:new S({children:[new F({child:new r({color:"#5050ff",height:60,child:new x({mainAxisAlignment:c,children:[new P({onPressed:t=>{this.#g.close({result:"ThirdPageResult"})},child:new A("←",{style:{...n,fontSize:16}})}),new A("Third Page",{style:{...n,fontSize:16}}),new A("icon",{style:{...n,fontSize:16}})]})})}),new F({child:new r({color:"#5050aa",child:new S({mainAxisAlignment:a,children:[new r({child:new A("Third Page Content",{overflow:v.clip}),color:"#f2f2f2",width:200,height:200}),new s({height:10}),new P({child:new A("First Page",{style:{...n,fontSize:16}}),onPressed:t=>{new T({path:"/firstPage",widget:new z({})}).build().then((t=>{log(this.#t,"[App.HomePage.onNavigate] result: ",t)}))}})]})})})]})})}build(){return this.#g.build()}get htmlElement(){return this.#g.htmlElement}}class B{#I;#R;#O;#V;#j;#E;#q;#U;constructor({errorBorder:t=o.all({}),focusedBorder:e=o.all({}),focusedErrorBorder:i=o.all({}),disabledBorder:n=o.all({}),enabledBorder:s=o.all({}),border:l=o.all({color:"#333333"}),enabled:h=!0,hintText:r=""}={}){this.#I=t,this.#R=e,this.#O=i,this.#V=n,this.#j=s,this.#E=l,this.#q=h,this.#U=r}get border(){return this.#E}get hintText(){return this.#U}}class D{#t=!0;#J;#G;#K;#Q;#X;#k;#Y;#Z;#q;#_;#tt;#et;#it;#nt;#st;#lt;#ot;#ht;#rt;#dt;#g;constructor({key:e,initialValue:i,focusNode:n,decoration:s=new B,keyboardType:l,style:o,textAlign:h,textAlignVertical:r,enabled:d,readOnly:a,obscuringCharacter:c,obscureText:g,maxLines:m,expands:u,maxLength:f,onChanged:p=(()=>{}),onTap:y=(()=>{}),onComplete:x=(()=>{}),onFocuse:S=(()=>{}),validator:E}={}){this.#J=e,this.#G=i,this.#K=n,this.#Q=s,this.#X=l,this.#k=o,this.#Y=h||w,this.#Z=r||b,this.#q=d||!0,this.#_=a||!1,this.#tt=c||"•",this.#et=g||!1,this.#it=m||1,this.#nt=u||!1,this.#st=f||null,this.#lt=p,this.#ot=y,this.#ht=x,this.#rt=S,this.#dt=E,this.#g=new t({tagName:"input",cssClass:["text-form-field-widget"]})}build(){const t=this.#g.build().htmlElement;t.type=this.#et?"password":"text",t.innerHTML=this.#G,t.placeholder=this.#Q.hintText,t.style.color=this.#k?.color,t.style.backgroundColor=this.#k?.backgroundColor??"transparent",t.style.fontSize=this.#k?`${this.#k.fontSize}px`:"",t.style.fontFamily=this.#k?.fontFamily,t.style.fontWeight=this.#k?.fontWeight,t.style.height=this.#k?.height,t.style.width=this.#k?.width,t.style.overflow=this.#k?.overflow,t.style.textAlign=this.#Y;const e=this.#Q.border.build();return t.style.borderTop=e?`${e.top}`:"",t.style.borderRight=e?`${e.right}`:"",t.style.borderBottom=e?`${e.bottom}`:"",t.style.borderLeft=e?`${e.left}`:"",t.addEventListener("input",(t=>this.onInputListener(t))),t.addEventListener("change",(t=>this.completedListener(t))),t.addEventListener("focus",(t=>this.#rt(t))),t.addEventListener("blur",(t=>this.#rt(t))),this}get htmlElement(){return this.#g.htmlElement}onInputListener(t){"function"==typeof this.#lt&&this.#lt(t.target.value),"function"==typeof this.#dt&&this.#dt(t.target.value)}completedListener(t){"function"==typeof this.#ht&&this.#ht(t.target.value)}}class L{constructor({backgroundColor:t,foregroundColor:e,overlayColor:i,shadowColor:n,elevation:s,padding:l,minimumSize:o,maximumSize:h,fixedSize:r,side:d,shape:a,mouseCursor:c,visualDensity:g,animationDuration:m,alignment:u,fontFamily:w,fontWeight:b,fontSize:f}={}){this.backgroundColor=t,this.foregroundColor=e,this.overlayColor=i,this.shadowColor=n,this.elevation=s,this.padding=l,this.minimumSize=o,this.maximumSize=h,this.fixedSize=r,this.side=d,this.shape=a,this.mouseCursor=c,this.visualDensity=g,this.animationDuration=m,this.alignment=u,this.fontFamily=w,this.fontWeight=b,this.fontSize=f}}class W{#e;#S;constructor({child:t,padding:e=h.all(0)}={}){if(!t)throw SyntaxError('[Padding] parameter "child" is required');this.#e=t,this.#S=e}build(){const t=this.#e.build().htmlElement;if(!t)throw new Error(`[Padding] error building child "${this.#e.constructor.name}"`);const e=this.#S.build();return t.style.padding=e?`${e.top} ${e.right} ${e.bottom} ${e.left}`:"",this}get htmlElement(){if(!this.#e)throw new Error("[Padding] error access child");return this.#e.htmlElement}}class N{#g;constructor({}={}){this.#g=new E({title:"Test Input Page",child:new S({children:[new F({child:new r({color:"#5050ff",height:60,child:new x({mainAxisAlignment:c,children:[new P({onPressed:t=>{this.#g.close({result:"FirstPageResult"})},child:new A("←",{style:{...n,fontSize:16}})}),new A("Test Input Page",{style:{...n,fontSize:16}}),new A("icon",{style:{...n,fontSize:16}})]})})}),new F({child:new r({child:new l({child:new r({width:200,child:new S({crossAxisAlignment:m,children:[new A("Номер телефона:",{style:{...n,fontSize:16,color:"#000000"}}),new s({height:8}),new W({padding:h.all(8),child:new D({decoration:new B({border:o.all({color:"#cccccc",width:1})}),style:{...n,fontSize:16,color:"#000000"},onChanged:t=>{},onComplete:t=>{}})}),new s({height:24}),new A("Пароль:",{style:{...n,fontSize:16,color:"#000000"}}),new s({height:8}),new W({padding:h.all(8),child:new D({decoration:new B({border:o.all({color:"#cccccc",width:1})}),obscureText:!0,style:{fontSize:16,color:"#000000"},onChanged:t=>{},onComplete:t=>{}})}),new s({height:24}),new P({child:new A("вход",{style:{...n,fontSize:16,color:"#000000"}}),style:new L({backgroundColor:"#FF9B40",foregroundColor:"#ffffff"}),onPressed:t=>{console.log("TextButton signIn cliced")}})]})})})})})]})})}build(){return this.#g.build()}get htmlElement(){return this.#g.htmlElement}}class H{#t=!1;#F;#A;#C;#v;#P;#T;#g;constructor({children:t,itemCount:e,itemBuilder:i=(()=>{}),mainAxisAlignment:n=d,crossAxisAlignment:s=g,direction:l=p}={}){this.#F=t,this.#A=this.#F?this.#F.length:e,this.#C=i,this.#v=n,this.#P=s,this.#T=l,this.#g=new y({tagName:"ul",itemCount:this.#A,itemBuilder:t=>this.#C(t),cssClass:["list-view-widget"],mainAxisAlignment:this.#v,crossAxisAlignment:this.#P,direction:this.#T})}build(){return log(this.#t,"[ListView.build] children: ",this.#F),this.#g.build(),this}get htmlElement(){return this.#g.htmlElement}}class M{#t=!0;#J;#e;#T;#at;#S;#ct;#gt;#g;constructor({key:e,child:i,direction:n=p,reverse:s=!1,padding:l=h.all(0),primary:o,physics:r}={}){this.#J=e,this.#e=i,this.#T=n,this.#at=s,this.#S=l,this.#ct=o,this.#gt=r,this.#g=new t({child:this.#e,cssClass:[this.#T==p?"single-child-scroll-vertial-widget":"single-child-scroll-horizontal-widget"]})}build(){const t=this.#g.build().htmlElement;if(!t)throw new Error(`[Container] error building child "${this.#g.constructor.name}"`);const e=this.#S.build();return t.style.padding=e?`${e.top} ${e.right} ${e.bottom} ${e.left}`:"",log(this.#t,"[Container.build] child: ",this.htmlElement),this}get htmlElement(){return this.#g.htmlElement}}class I{#t=!0;#F;#g;#A;#C;hintText;#mt;#ut;#wt;#bt=1e3;#n;#ft;#pt;#s;constructor({itemCount:e,itemBuilder:i=(()=>{}),placeholder:n="",valueField:s="id",labelField:l="title",searchField:o=["id","title"],cssClass:h=[]}={}){this.#A=e,this.#C=i,this.hintText=n,this.#mt=s,this.#ut=l,this.#wt=o,this.#n=h,this.#pt=new M({child:new H({itemCount:this.#A,itemBuilder:t=>this.#C(t)})}),this.#ft=new D({textAlign:u,style:{backgroundColor:"#dddddd",fontSize:16,widget:400},decoration:new B({hintText:this.hintText}),onFocuse:t=>{"focus"==t.type?this.#pt.htmlElement.style.display="flex":this.#pt.htmlElement.style.display="none"}}),this.#g=new t({child:new S({mainAxisAlignment:d,crossAxisAlignment:m,children:[this.#ft,this.#pt]}),cssClass:["search-field-widget"]})}build(){return this.#g.build(),this.#pt.htmlElement.parentNode.style.position="relative",this.#pt.htmlElement.style.position="absolute",this.#pt.htmlElement.style.backgroundColor="#dddddd",this.#pt.htmlElement.style.top="18px",this.#pt.htmlElement.style.maxHeight="150px",this.#pt.htmlElement.style.display="none",log(this.#t,"[SearchField.build] child: ",this.htmlElement),this}get htmlElement(){return this.#g.htmlElement}}const R=[{id:"0",name:"item 0"},{id:"1",name:"item 1"},{id:"2",name:"item 2"},{id:"3",name:"item 3 s,ejhafv sdfvmhsf v,jsbhv ,"},{id:"4",name:"item 4"},{id:"5",name:"item 5"},{id:"6",name:"item 6"},{id:"7",name:"item 7"},{id:"8",name:"item 8"},{id:"9",name:"item 9"},{id:"10",name:"item 10"},{id:"11",name:"item 11"},{id:"12",name:"item 12"},{id:"13",name:"item 13"},{id:"14",name:"item 14"},{id:"15",name:"item 15"},{id:"16",name:"item 16"}];class O{#t=!0;#g;constructor({}={}){this.#g=new E({title:"Search Field Page",child:new S({children:[new F({child:new r({color:"#5050ff",height:60,child:new x({mainAxisAlignment:c,children:[new P({onPressed:t=>{this.#g.close({result:"SearchFieldPageResult"})},child:new A("←",{style:{...n,fontSize:16}})}),new A("Search Field Page",{style:{...n,fontSize:16}}),new A("icon",{style:{...n,fontSize:16}})]})})}),new F({child:new r({color:"#aa5050",child:new S({mainAxisAlignment:d,crossAxisAlignment:m,children:[new A("Try search field:",{overflow:v.clip}),new s({height:8}),new I({itemCount:R.length,itemBuilder:t=>(log(this.#t,"item: ",R[t].id+" | "+R[t].name),new A(R[t].id+" | "+R[t].name,{key:R[t].id})),placeholder:"search...",valueField:"id",labelField:"title",searchField:["id","title"]}),new l({child:new r({color:"#f2f2f2",width:500,height:500,child:new S({crossAxisAlignment:m,children:[]})})})]})})})]})})}build(){return this.#g.build()}get htmlElement(){return this.#g.htmlElement}}class V{#t=!0;#g;#yt;#c;constructor({streamController:t,builder:e}={}){this.#yt=t,this.#c=e}build(){this.#g=this.#c({snapshot:{}});this.#g.build().htmlElement;return this.#yt.listen((t=>{log(this.#t,"[StreamBuilder.build] event:",t);const e=this.#c({snapshot:t}).build();this.htmlElement.innerHTML=e.htmlElement.innerHTML})),this}get htmlElement(){return this.#g.htmlElement}}class j{#t=!1;#xt=[];constructor({}={}){}listen(t){log(this.#t,`[StreamController.listen] new listner: ${t}`),this.#xt.push(t)}add(t){this.#xt.forEach((e=>{e(t)}))}}class q{#t=!0;#St;#Et;#At;#Ct;#vt;#Pt=!1;#Tt=!1;#yt;constructor({ip:t="127.0.0.1",port:e="4545",reconnectDelay:i=500,reconnectCount:n=5}={}){this.#St=t,this.#Et=e,this.#At=i,this.#Ct=n,this.#yt=new j}send(t){if(!this.#Pt||!t)throw Error("[StreamDataSource.send] Невозможно отправить данные, нет подключения");t.timestamp=U(),this.#vt.send(JSON.stringify(t))}listen(t){log(this.#t,"[StreamDataSource.listen] callback: ",t),this.#Ft(this.#St,this.#Et),this.#yt.listen(t)}#zt(t,e){try{return new WebSocket(`ws://${t}:${e}`)}catch(t){return console.warn("[StreamDataSource.#tryConnect] error: ",t),!1}}#Ft(t,e){if(this.#Pt||this.#Tt)return 0;this.#Tt=!0,log(this.#t,`[StreamDataSource.reconnect] to: ${t}:${e}`);var i=0;new Promise(((n,s)=>{const l=setInterval((()=>{i++,log(this.#t,"[StreamDataSource.reconnect] try: ",i);const o=this.#zt(t,e);o&&(log(this.#t,"[StreamDataSource.reconnect] connected: ",o),clearInterval(l),n(o)),i>=this.#Ct&&(clearInterval(l),s("Превышен лимит попыток подключения"))}),this.#At)})).then((t=>{this.#vt=t,this.handleConnection(this.#vt),this.#Pt=!0,this.#Tt=!1})).catch((t=>{this.#Pt=!1,this.#Tt=!1,console.error("StreamDataSource connection error: ",t)}))}handleConnection(t){log(this.#t,"[StreamDataSource.handleConnection]"),t.onopen=e=>{log(this.#t,"[StreamDataSource.handleConnection] onopen: ",e),t.send(JSON.stringify({type:"start",timestamp:U(),value:""}))},t.onmessage=t=>{const e=JSON.parse(t.data);this.#yt.add(e)},t.onclose=async t=>{log(this.#t,"[StreamDataSource.handleConnection] onclose: ",t),this.#Pt=!1,this.#Ft(this.#St,this.#Et)},t.onerror=async t=>{log(this.#t,"[StreamDataSource.handleConnection] onerror: ",t),this.#Pt=!1,this.#Ft(this.#St,this.#Et)}}}function U(){return new Date(Date.now()).toISOString()}class J{#t=!0;#g;#$t;navigateTo;constructor({onNavigate:t}={}){this.#$t=new q({ip:"127.0.0.1",port:"4545",reconnectDelay:1500,reconnectCount:5});new G({streamDataSource:this.#$t}),new G({streamDataSource:this.#$t});this.navigateTo=t,this.#g=new E({title:"Home Page",child:new S({children:[new F({child:new r({color:"#5050ff",height:60,child:new x({mainAxisAlignment:c,children:[new P({onPressed:t=>{this.#g.close({result:"FirstPageResult"})},child:new A("←",{style:{...n,fontSize:16}})}),new A("Stream Page",{style:{...n,fontSize:16}}),new A("icon",{style:{...n,fontSize:16}})]})})}),new F({child:new r({color:"#aaaaaa",child:new l({child:new r({width:200,child:new S({mainAxisAlignment:a,crossAxisAlignment:m,children:[new P({child:new A("Send test message",{style:{...n,fontSize:16}}),onPressed:t=>{this.#$t.send({type:"message",area:"area1",data:"test message"})}}),new V({streamController:this.#$t,builder:({snapshot:t}={})=>{const e=t.value;return new A(Number.parseFloat(e).toFixed(5),{style:{...n,fontSize:16}})}}),new s({height:10}),new V({streamController:this.#$t,builder:({snapshot:t}={})=>{const e=t.value;return new A(Number.parseFloat(e).toFixed(5),{style:{...n,fontSize:16}})}}),new s({height:10}),new V({streamController:this.#$t,builder:({snapshot:t}={})=>{const e=t.value;return new A("connected: "+Number.parseFloat(e).toFixed(5),{style:{...n,fontSize:16}})}}),new s({height:10}),new P({child:new A("Second page",{style:{...n,fontSize:16}}),onPressed:t=>{this.navigateTo(new T({path:"/secondPage",widget:new SecondPage({})}))}}),new s({height:10}),new P({child:new A("Third Page",{style:{...n,fontSize:16}}),onPressed:t=>{this.navigateTo(new T({path:"/thirdPage",widget:new ThirdPage({})}))}}),new s({height:10}),new P({child:new A("Test Input Page",{style:{...n,fontSize:16}}),onPressed:t=>{this.navigateTo(new T({path:"/TestInputPage",widget:new TestInputPage({})}))}}),new s({height:10}),new P({child:new A("Search Field Page",{style:{...n,fontSize:16}}),onPressed:t=>{this.navigateTo(new T({path:"/SearchFieldPage",widget:new SearcchFieldPage({})}))}})]})})})})})]})})}build(){return this.#g.build()}get htmlElement(){return this.#g.htmlElement}}class G{#t=!0;#$t;#kt=!1;#xt=[];constructor({streamDataSource:t}={}){this.#$t=t}listen(t,e={key:"",value:""}){log(this.#t,"[StreamDataSourceFiltered.listen] callback: ",t),this.#xt.push({callback:t,filter:e}),this.#kt||this.#$t.listen(this.#Bt)}#Bt(t){this.#xt.forEach((e=>{const i=e.filter.key;Object.keys(t).includes(i)&&t[i]==e.filter.value&&e.callback(t)}))}}class K{#g;navigateTo;constructor({onNavigate:t}={}){this.navigateTo=t,this.#g=new E({title:"Home Page",child:new S({children:[new F({child:new r({color:"#5050ff",height:60,child:new x({mainAxisAlignment:c,children:[new A("",{style:{...n,fontSize:16}}),new A("Home Page",{style:{...n,fontSize:16}}),new A("icon",{style:{...n,fontSize:16}})]})})}),new F({child:new r({color:"#aaaaaa",child:new l({child:new r({width:200,child:new S({mainAxisAlignment:a,crossAxisAlignment:m,children:[new P({child:new A("First Page",{style:{...n,fontSize:16}}),onPressed:t=>{this.navigateTo(new T({path:"/firstPage",widget:new z({})}))}}),new s({height:10}),new P({child:new A("Second page",{style:{...n,fontSize:16}}),onPressed:t=>{this.navigateTo(new T({path:"/secondPage",widget:new $({})}))}}),new s({height:10}),new P({child:new A("Third Page",{style:{...n,fontSize:16}}),onPressed:t=>{this.navigateTo(new T({path:"/thirdPage",widget:new k({})}))}}),new s({height:10}),new P({child:new A("Test Input Page",{style:{...n,fontSize:16}}),onPressed:t=>{this.navigateTo(new T({path:"/TestInputPage",widget:new N({})}))}}),new s({height:10}),new P({child:new A("Search Field Page",{style:{...n,fontSize:16}}),onPressed:t=>{this.navigateTo(new T({path:"/SearchFieldPage",widget:new O({})}))}}),new s({height:10}),new P({child:new A("Stream Page",{style:{...n,fontSize:16}}),onPressed:t=>{this.navigateTo(new T({path:"/StreamPage",widget:new J({})}))}})]})})})})})]})})}build(){return this.#g.build()}get htmlElement(){return this.#g.htmlElement}}new class{#t=!0;#Dt;constructor({}={}){this.#Dt=new e({title:"Test Navigator",initialRoute:"/",home:new K({onNavigate:t=>{t.build().then((t=>{log(this.#t,"[App.HomePage.onNavigate] result: ",t)}))}}),routes:[]})}run(){this.#Dt.run()}}({}).run();
//# sourceMappingURL=index.a057f4cb.js.map
